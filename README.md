# Сервис регистрации на сайте через telegram

## start/

Бот генерирует для пользователя уникальную ссылку для регистрации (токен для регистрации), действующую 1 минуту

## Ссылка для регистрации

Пользователь переходит по полученной ссылке, открывается веб-интерфейс с полем для ввода пароля и кнопкой "Зарегистрироваться". Нажатие кнопки приводит к отправке POST запроса на URL адрес, указанный в переменной окружения URL_ADDRES_TO_REGISTER.

## Обработка POST запроса

Сервер получает данные от пользователя после ввода пароля и нажатия кнопки "Зарегистрироваться". 

Происходит обработка полученных данных: время жизни ссылки 60 секунд, а также проверка подписи токена с использованием секретного ключа, с которым создавался токен.

## Регистрация на сайте

Регистрация происходит по данным пользователя из telegram, а именно: ID пользователя.

Если валидация токена прошла успешно, а также пользователя с таким ID пользователя ещё не существует в базе данных, то происходит успешная запись нового пользователя, иначе - сообщение об ошибке регистрации.
